{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/card.tsx"],"sourcesContent":["\nimport * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-xl border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;AACA;AAEA;;;;AAEA,MAAM,qBAAO,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 110, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/alert-dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 262, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/flows/analyze-transaction-flow.ts"],"sourcesContent":["\n'use server';\n/**\n * @fileOverview An AI flow to analyze financial transactions for fraud risk.\n *\n * - analyzeTransaction - A function that assesses the risk of a transaction.\n * - AnalyzeTransactionInput - The input type for the analyzeTransaction function.\n * - AnalyzeTransactionOutput - The return type for the analyzeTransaction function.\n */\n\nimport { ai } from '@/ai/genkit';\nimport { googleAI } from '@genkit-ai/googleai';\nimport { z } from 'zod';\n\nconst AnalyzeTransactionInputSchema = z.object({\n  amount: z.number().describe('The amount of the transaction.'),\n  recipient: z.string().describe('The recipient of the transaction (email or account number).'),\n  recentTransactions: z\n    .string()\n    .describe('A JSON string representing the user\\'s last 10 transactions.'),\n});\nexport type AnalyzeTransactionInput = z.infer<typeof AnalyzeTransactionInputSchema>;\n\nconst AnalyzeTransactionOutputSchema = z.object({\n  risk: z\n    .enum(['low', 'medium', 'high'])\n    .describe('The assessed risk level of the transaction.'),\n  reason: z\n    .string()\n    .describe('A brief justification for the assessed risk level.'),\n});\nexport type AnalyzeTransactionOutput = z.infer<typeof AnalyzeTransactionOutputSchema>;\n\nexport async function analyzeTransaction(input: AnalyzeTransactionInput): Promise<AnalyzeTransactionOutput> {\n  return analyzeTransactionFlow(input);\n}\n\nconst prompt = ai.definePrompt({\n  name: 'analyzeTransactionPrompt',\n  model: googleAI.model('gemini-1.5-flash-latest'),\n  input: { schema: AnalyzeTransactionInputSchema },\n  output: { schema: AnalyzeTransactionOutputSchema },\n  prompt: `You are a fraud detection specialist for a bank. Your task is to analyze a proposed transaction and assess its risk level based on the user's recent activity.\n\nConsider the following factors:\n- Is the amount unusually large compared to other recent transactions?\n- Is the recipient new? (i.e., not present in recent transaction history)\n- Does the transaction fit the user's typical spending pattern?\n- Time of day can also be a factor, but we don't have that data, so focus on amount and recipient.\n\nBased on your analysis of the new transaction in the context of the user's history, determine if the risk is \"low\", \"medium\", or \"high\", and provide a concise, one-sentence reason for your decision.\n\n**User's Recent Transactions:**\n\\`\\`\\`json\n{{{recentTransactions}}}\n\\`\\`\\`\n\n**New Transaction to Analyze:**\n- Amount: {{{amount}}}\n- Recipient: {{{recipient}}}\n\nPlease provide your risk assessment in the specified JSON format.`,\n});\n\nconst analyzeTransactionFlow = ai.defineFlow(\n  {\n    name: 'analyzeTransactionFlow',\n    inputSchema: AnalyzeTransactionInputSchema,\n    outputSchema: AnalyzeTransactionOutputSchema,\n  },\n  async (input) => {\n    const { output } = await prompt(input);\n    return output!;\n  }\n);\n"],"names":[],"mappings":";;;;;;IAiCsB,qBAAA,WAAA,GAAA,CAAA,GAAA,yNAAA,CAAA,wBAAA,EAAA,8CAAA,yNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,yNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 278, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/amount-keypad.tsx"],"sourcesContent":["\n\"use client\";\n\nimport { useState } from 'react';\nimport { ArrowRight, X } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { cn } from '@/lib/utils';\nimport { useTranslation } from '@/hooks/use-translation';\n\ninterface AmountKeypadProps {\n  onSubmit: (amount: number) => void;\n  onCancel: () => void;\n}\n\nexport function AmountKeypad({ onSubmit, onCancel }: AmountKeypadProps) {\n  const [amountValue, setAmountValue] = useState('0');\n  const { t } = useTranslation();\n\n  const handleKeyPress = (key: string) => {\n    if (key === 'backspace') {\n      if (amountValue.length > 1) {\n        setAmountValue(amountValue.slice(0, -1));\n      } else {\n        setAmountValue('0');\n      }\n    } else if (key === '.') {\n      if (!amountValue.includes('.')) {\n        setAmountValue(amountValue + '.');\n      }\n    } else {\n      if (amountValue === '0' && key !== '.') {\n        setAmountValue(key);\n      } else {\n        // Prevent more than 2 decimal places\n        const decimalIndex = amountValue.indexOf('.');\n        if (decimalIndex !== -1 && amountValue.length - decimalIndex > 2) {\n          return;\n        }\n        setAmountValue(amountValue + key);\n      }\n    }\n  };\n\n  const handleSendMoney = () => {\n    const numericAmount = parseFloat(amountValue);\n    if (!isNaN(numericAmount) && numericAmount > 0) {\n      onSubmit(numericAmount);\n    }\n  };\n\n  const numericAmount = parseFloat(amountValue) || 0;\n  const isAmountValid = numericAmount > 0;\n\n  const keypadKeys = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '.', '0', 'backspace'];\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"text-center space-y-2\">\n        <div className=\"relative inline-block\">\n            <span className=\"absolute left-0 top-1/2 -translate-y-1/2 text-3xl text-muted-foreground\">$</span>\n            <span className=\"text-5xl font-bold tracking-tight pl-6 pr-1\">{amountValue}</span>\n        </div>\n      </div>\n\n      <div className=\"keypad-grid\">\n        {keypadKeys.map((key) => (\n          <Button\n            key={key}\n            variant=\"ghost\"\n            className=\"h-16 text-2xl font-semibold\"\n            onClick={() => handleKeyPress(key)}\n          >\n            {key === 'backspace' ? <X className=\"h-6 w-6\" /> : key}\n          </Button>\n        ))}\n      </div>\n      \n      <div className=\"flex gap-2 mt-2\">\n        <Button variant=\"outline\" className=\"flex-1\" onClick={onCancel}>\n            {t('cancel')}\n        </Button>\n        <Button \n            className=\"flex-1\" \n            onClick={handleSendMoney} \n            disabled={!isAmountValid}\n        >\n            {t('qrpay.setAmountButton')} <ArrowRight className=\"ml-2 h-4 w-4\" />\n        </Button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AAAA;AACA;AAEA;;;AANA;;;;;AAaO,SAAS,aAAa,EAAE,QAAQ,EAAE,QAAQ,EAAqB;;IACpE,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,EAAE,CAAC,EAAE,GAAG,CAAA,GAAA,sIAAA,CAAA,iBAAc,AAAD;IAE3B,MAAM,iBAAiB,CAAC;QACtB,IAAI,QAAQ,aAAa;YACvB,IAAI,YAAY,MAAM,GAAG,GAAG;gBAC1B,eAAe,YAAY,KAAK,CAAC,GAAG,CAAC;YACvC,OAAO;gBACL,eAAe;YACjB;QACF,OAAO,IAAI,QAAQ,KAAK;YACtB,IAAI,CAAC,YAAY,QAAQ,CAAC,MAAM;gBAC9B,eAAe,cAAc;YAC/B;QACF,OAAO;YACL,IAAI,gBAAgB,OAAO,QAAQ,KAAK;gBACtC,eAAe;YACjB,OAAO;gBACL,qCAAqC;gBACrC,MAAM,eAAe,YAAY,OAAO,CAAC;gBACzC,IAAI,iBAAiB,CAAC,KAAK,YAAY,MAAM,GAAG,eAAe,GAAG;oBAChE;gBACF;gBACA,eAAe,cAAc;YAC/B;QACF;IACF;IAEA,MAAM,kBAAkB;QACtB,MAAM,gBAAgB,WAAW;QACjC,IAAI,CAAC,MAAM,kBAAkB,gBAAgB,GAAG;YAC9C,SAAS;QACX;IACF;IAEA,MAAM,gBAAgB,WAAW,gBAAgB;IACjD,MAAM,gBAAgB,gBAAgB;IAEtC,MAAM,aAAa;QAAC;QAAK;QAAK;QAAK;QAAK;QAAK;QAAK;QAAK;QAAK;QAAK;QAAK;QAAK;KAAY;IAEvF,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;4BAAK,WAAU;sCAA0E;;;;;;sCAC1F,6LAAC;4BAAK,WAAU;sCAA+C;;;;;;;;;;;;;;;;;0BAIrE,6LAAC;gBAAI,WAAU;0BACZ,WAAW,GAAG,CAAC,CAAC,oBACf,6LAAC,qIAAA,CAAA,SAAM;wBAEL,SAAQ;wBACR,WAAU;wBACV,SAAS,IAAM,eAAe;kCAE7B,QAAQ,4BAAc,6LAAC,+LAAA,CAAA,IAAC;4BAAC,WAAU;;;;;mCAAe;uBAL9C;;;;;;;;;;0BAUX,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,qIAAA,CAAA,SAAM;wBAAC,SAAQ;wBAAU,WAAU;wBAAS,SAAS;kCACjD,EAAE;;;;;;kCAEP,6LAAC,qIAAA,CAAA,SAAM;wBACH,WAAU;wBACV,SAAS;wBACT,UAAU,CAAC;;4BAEV,EAAE;4BAAyB;0CAAC,6LAAC,qNAAA,CAAA,aAAU;gCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;AAK/D;GA7EgB;;QAEA,sIAAA,CAAA,iBAAc;;;KAFd","debugId":null}},
    {"offset": {"line": 465, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28authed%29/qr-pay/page.tsx"],"sourcesContent":["\n\"use client\";\n\nimport { useState, useRef, useEffect, useCallback } from 'react';\nimport { useRouter } from 'next/navigation';\nimport jsQR from 'jsqr';\nimport { QrCode, ArrowLeft, Loader2, CheckCircle, AlertTriangle, Zap, Upload, Wallet } from 'lucide-react';\n\nimport { useAccount } from '@/hooks/use-account';\nimport { useAuth } from '@/hooks/use-auth';\nimport { useToast } from '@/hooks/use-toast';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';\nimport { Alert, AlertTitle, AlertDescription } from '@/components/ui/alert';\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from \"@/components/ui/alert-dialog\"\nimport { analyzeTransaction, AnalyzeTransactionOutput } from '@/ai/flows/analyze-transaction-flow';\nimport { cn } from '@/lib/utils';\nimport { useTranslation } from '@/hooks/use-translation';\nimport { AmountKeypad } from '@/components/amount-keypad';\n\ninterface QrCodeData {\n  recipient: string;\n  amount?: number;\n}\n\ntype PaymentStep = \"scanning\" | \"amount_entry\" | \"confirmation\" | \"success\" | \"error\";\n\nexport default function QrPayPage() {\n  const router = useRouter();\n  const { user } = useAuth();\n  const { toast } = useToast();\n  const { handleAddTransaction, isProcessing, transactions, account } = useAccount(user?.uid);\n  const { t } = useTranslation();\n  \n  const videoRef = useRef<HTMLVideoElement>(null);\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const streamRef = useRef<MediaStream | null>(null);\n  const animationFrameId = useRef<number | null>(null);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  \n  const [step, setStep] = useState<PaymentStep>(\"scanning\");\n  const [hasCameraPermission, setHasCameraPermission] = useState<boolean | null>(null);\n  const [scannedData, setScannedData] = useState<QrCodeData | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [finalAmount, setFinalAmount] = useState<number | null>(null);\n  const [riskAnalysis, setRiskAnalysis] = useState<AnalyzeTransactionOutput | null>(null);\n  const [showRiskDialog, setShowRiskDialog] = useState(false);\n  const [isFlashOn, setIsFlashOn] = useState(false);\n  const [isFlashSupported, setIsFlashSupported] = useState(false);\n  \n  const stopScanning = useCallback(() => {\n    if (animationFrameId.current) {\n      cancelAnimationFrame(animationFrameId.current);\n      animationFrameId.current = null;\n    }\n  }, []);\n\n  const stopCamera = useCallback(() => {\n    stopScanning();\n    if (streamRef.current) {\n        streamRef.current.getTracks().forEach(track => track.stop());\n        streamRef.current = null;\n    }\n    if (videoRef.current) {\n        videoRef.current.srcObject = null;\n    }\n    setIsFlashOn(false);\n  }, [stopScanning]);\n\n  const processQrCodeData = useCallback((codeData: string) => {\n    if (step !== 'scanning') return;\n    try {\n        const data = JSON.parse(codeData) as QrCodeData;\n        if (data.recipient && typeof data.recipient === 'string') {\n            stopCamera();\n            setScannedData(data);\n            setError(null);\n            if (data.amount && typeof data.amount === 'number' && data.amount > 0) {\n                setFinalAmount(data.amount);\n                setStep('confirmation');\n            } else {\n                setStep('amount_entry');\n            }\n        } else {\n            throw new Error(t('qrpay.invalidQrFormat'));\n        }\n    } catch (e: any) {\n        stopCamera();\n        setError(e.message || t('qrpay.qrParseError'));\n        setStep('error');\n    }\n  }, [step, stopCamera, t]);\n\n  const tick = useCallback(() => {\n    if (videoRef.current && videoRef.current.readyState === videoRef.current.HAVE_ENOUGH_DATA) {\n      if (canvasRef.current && videoRef.current) {\n        const canvas = canvasRef.current;\n        const video = videoRef.current;\n        const context = canvas.getContext('2d');\n\n        if (context) {\n          canvas.height = video.videoHeight;\n          canvas.width = video.videoWidth;\n          context.drawImage(video, 0, 0, canvas.width, canvas.height);\n\n          const imageData = context.getImageData(0, 0, canvas.width, canvas.height);\n          if (imageData) {\n              const code = jsQR(imageData.data, imageData.width, imageData.height, {\n                  inversionAttempts: \"dontInvert\",\n              });\n\n              if (code) {\n                processQrCodeData(code.data);\n                return; // Stop ticking once a code is found\n              }\n          }\n        }\n      }\n    }\n    animationFrameId.current = requestAnimationFrame(tick);\n  }, [processQrCodeData]);\n\n  const startScanning = useCallback(() => {\n    if (animationFrameId.current === null) {\n      animationFrameId.current = requestAnimationFrame(tick);\n    }\n  }, [tick]);\n\n  const startCamera = useCallback(async () => {\n    setError(null);\n    if (streamRef.current) return;\n\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ video: { facingMode: 'environment' } });\n      setHasCameraPermission(true);\n      if (videoRef.current) {\n        videoRef.current.srcObject = stream;\n        streamRef.current = stream;\n        videoRef.current.play();\n      }\n      \n      const videoTrack = stream.getVideoTracks()[0];\n      const capabilities = videoTrack.getCapabilities();\n      if (capabilities.torch) {\n        setIsFlashSupported(true);\n      }\n    } catch (err) {\n      console.error(\"Error accessing camera:\", err);\n      setHasCameraPermission(false);\n      setError(t('qrpay.cameraError'));\n      setStep('error');\n    }\n  }, [t]);\n\n  // Effect to manage camera stream lifecycle\n  useEffect(() => {\n    if (step === 'scanning' && !streamRef.current) {\n        startCamera();\n    }\n    // Cleanup on unmount\n    return () => {\n        if (streamRef.current) {\n            stopCamera();\n        }\n    }\n  }, [step, startCamera, stopCamera]);\n\n\n  // Effect to manage scanning loop\n  useEffect(() => {\n      if (step === 'scanning' && hasCameraPermission) {\n        startScanning();\n      } else {\n        stopScanning();\n      }\n      return () => stopScanning();\n  }, [step, hasCameraPermission, startScanning, stopScanning]);\n\n\n  const toggleFlashlight = async () => {\n    if (!streamRef.current || !isFlashSupported) return;\n    const videoTrack = streamRef.current.getVideoTracks()[0];\n    try {\n        await videoTrack.applyConstraints({\n            advanced: [{ torch: !isFlashOn }]\n        });\n        setIsFlashOn(!isFlashOn);\n    } catch (err) {\n        console.error('Error toggling flashlight:', err);\n        toast({ variant: 'destructive', title: t('qrpay.flashError.title'), description: t('qrpay.flashError.description') });\n    }\n  };\n  \n  const handleImportClick = () => {\n      fileInputRef.current?.click();\n  };\n\n  const handleFileChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (!file) return;\n\n    const reader = new FileReader();\n    reader.onload = (e) => {\n        const image = new Image();\n        image.onload = () => {\n            if (canvasRef.current) {\n                const canvas = canvasRef.current;\n                const context = canvas.getContext('2d');\n                if (context) {\n                    canvas.width = image.width;\n                    canvas.height = image.height;\n                    context.drawImage(image, 0, 0, image.width, image.height);\n                    const imageData = context.getImageData(0, 0, image.width, image.height);\n                    const code = jsQR(imageData.data, imageData.width, image.height);\n                    if (code) {\n                        processQrCodeData(code.data);\n                    } else {\n                        toast({ variant: 'destructive', title: t('qrpay.import.failTitle'), description: t('qrpay.import.failDescription') });\n                    }\n                }\n            }\n        };\n        image.src = e.target?.result as string;\n    };\n    reader.readAsDataURL(file);\n    event.target.value = '';\n  };\n\n\n  const proceedWithPayment = async () => {\n    if (!scannedData || !finalAmount || finalAmount <= 0) return;\n    try {\n        await handleAddTransaction({\n            description: `Payment to ${scannedData.recipient}`,\n            amount: finalAmount,\n            recipient: scannedData.recipient\n        });\n        setStep('success');\n        setError(null);\n    } catch (e: any) {\n        setError(e.message || t('qrpay.paymentError.unexpected'));\n        setStep('error');\n    }\n  }\n\n  const handleConfirmPayment = async () => {\n    if (!scannedData || !finalAmount || finalAmount <= 0) return;\n\n    try {\n      const recentTransactions = transactions?.length > 0 ? transactions.slice(0, 10) : [];\n      const analysis = await analyzeTransaction({\n        amount: finalAmount,\n        recipient: scannedData.recipient,\n        recentTransactions: JSON.stringify(recentTransactions),\n      });\n\n      setRiskAnalysis(analysis);\n\n      if (analysis.risk === 'medium' || analysis.risk === 'high') {\n        setShowRiskDialog(true);\n      } else {\n        await proceedWithPayment();\n      }\n\n    } catch (e: any) {\n      console.error(\"Fraud analysis failed:\", e);\n      toast({\n        variant: \"destructive\",\n        title: t('qrpay.analysisError.title'),\n        description: t('qrpay.analysisError.description'),\n      });\n      await proceedWithPayment(); // Proceed even if analysis fails\n    }\n  };\n  \n  const handleScanAgain = () => {\n      setScannedData(null);\n      setError(null);\n      setFinalAmount(null);\n      setRiskAnalysis(null);\n      setStep('scanning');\n      // The useEffect will handle restarting the camera\n  }\n  \n  const handleAmountSubmit = (amount: number) => {\n    setFinalAmount(amount);\n    setStep('confirmation');\n  }\n\n  return (\n    <div className=\"h-full w-full bg-slate-900 text-white flex flex-col items-center justify-center overflow-hidden\">\n        <AlertDialog open={showRiskDialog} onOpenChange={setShowRiskDialog}>\n            <AlertDialogContent>\n                <AlertDialogHeader>\n                    <AlertDialogTitle className=\"flex items-center gap-2\">\n                        <AlertTriangle className=\"text-destructive\"/>\n                        {t('qrpay.securityCheck.title')}\n                    </AlertDialogTitle>\n                    <AlertDialogDescription>\n                    {riskAnalysis?.reason || t('qrpay.securityCheck.defaultReason')}\n                    </AlertDialogDescription>\n                </AlertDialogHeader>\n                <AlertDialogFooter>\n                    <AlertDialogCancel>{t('cancel')}</AlertDialogCancel>\n                    <AlertDialogAction onClick={proceedWithPayment}>\n                        {t('qrpay.confirmPaymentButton')}\n                    </AlertDialogAction>\n                </AlertDialogFooter>\n            </AlertDialogContent>\n        </AlertDialog>\n\n        {/* --- Video Background --- */}\n        <div className=\"absolute inset-0\">\n             <video \n                ref={videoRef} \n                className={cn(\n                    \"w-full h-full object-cover transition-all duration-500\",\n                    step !== 'scanning' && 'blur-md scale-110'\n                )} \n                autoPlay \n                playsInline \n                muted \n            />\n            <canvas ref={canvasRef} className=\"hidden\" />\n        </div>\n\n        {/* --- Scanning UI --- */}\n        <div className={cn(\n            \"absolute inset-0 flex flex-col items-center justify-center transition-opacity duration-300\",\n            step === 'scanning' ? 'opacity-100' : 'opacity-0 pointer-events-none'\n        )}>\n            {hasCameraPermission === null && (\n                <div className=\"flex flex-col items-center gap-2 bg-black/50 p-4 rounded-lg\">\n                    <Loader2 className=\"h-8 w-8 animate-spin text-white\"/>\n                    <p>Starting Camera...</p>\n                </div>\n            )}\n            \n            {hasCameraPermission === false && step === 'error' && (\n                <div className=\"flex flex-col items-center gap-2 bg-black/50 p-4 rounded-lg\">\n                    <AlertTriangle className=\"h-8 w-8 text-destructive\" />\n                    <p className=\"text-center max-w-xs\">{error}</p>\n                </div>\n            )}\n\n            {hasCameraPermission && (\n                <>\n                   <p className=\"text-lg font-semibold bg-black/30 px-4 py-1 rounded-full mb-4\">{t('qrpay.status.positionQr')}</p>\n                   <div className=\"relative w-64 h-64\">\n                       <div className=\"absolute inset-0 border-4 border-dashed border-white/50 rounded-2xl\"/>\n                       <div className=\"absolute inset-0 animate-scan-line bg-gradient-to-b from-transparent via-primary/50 to-transparent\"/>\n                   </div>\n                   <div className=\"mt-8 flex gap-4\">\n                       <input\n                           type=\"file\"\n                           ref={fileInputRef}\n                           onChange={handleFileChange}\n                           className=\"hidden\"\n                           accept=\"image/*\"\n                       />\n                       <Button \n                           variant=\"outline\"\n                           onClick={handleImportClick} \n                           className=\"rounded-full bg-black/50 border-white/50 text-white h-16 w-16 flex items-center justify-center\"\n                           title={t('qrpay.import.buttonTitle')}\n                       >\n                           <Upload className=\"h-7 w-7\"/>\n                       </Button>\n                       {isFlashSupported && (\n                           <Button \n                               variant=\"outline\"\n                               onClick={toggleFlashlight} \n                               className={cn(\n                                   \"rounded-full bg-black/50 border-white/50 text-white h-16 w-16 flex items-center justify-center\",\n                                   isFlashOn && \"bg-yellow-400/80 text-black hover:bg-yellow-400\"\n                               )}\n                               title={t('qrpay.flashButtonTitle')}\n                           >\n                               <Zap className=\"h-7 w-7\"/>\n                           </Button>\n                       )}\n                   </div>\n                </>\n            )}\n        </div>\n\n\n        {/* --- Panel for other steps --- */}\n        <div className={cn(\n            \"absolute bottom-0 left-0 right-0 p-4 pt-6 bg-card text-card-foreground rounded-t-3xl shadow-upper transform transition-transform duration-500 ease-in-out\",\n            step === 'scanning' || (step === 'error' && hasCameraPermission === false) ? 'translate-y-full' : 'translate-y-0'\n        )}>\n            <div className=\"w-full max-w-md mx-auto\">\n                {step === 'amount_entry' && scannedData && (\n                    <div className=\"animate-fade-in-up\">\n                         <h3 className=\"text-lg font-semibold text-center mb-1\">{t('recipient')}</h3>\n                         <p className=\"font-mono text-center text-muted-foreground mb-4\">{scannedData.recipient}</p>\n                        <AmountKeypad \n                            onSubmit={handleAmountSubmit} \n                            onCancel={handleScanAgain}\n                        />\n                    </div>\n                )}\n                \n                {step === 'confirmation' && scannedData && finalAmount &&(\n                    <div className=\"space-y-4 animate-fade-in-up\">\n                         <CardHeader className=\"text-center p-0 mb-4\">\n                            <CardTitle>{t('qrpay.paymentDetails')}</CardTitle>\n                            <CardDescription>{t('qrpay.status.confirmDetails')}</CardDescription>\n                         </CardHeader>\n                         <div className=\"p-4 bg-muted rounded-xl space-y-3\">\n                             <div className=\"flex justify-between items-center text-sm\">\n                                 <span className=\"text-muted-foreground\">{t('recipient')}</span>\n                                 <span className=\"font-mono font-bold\">{scannedData.recipient}</span>\n                             </div>\n                             <div className=\"flex justify-between items-center text-sm\">\n                                 <span className=\"text-muted-foreground\">{t('amount')}</span>\n                                 <span className=\"font-bold text-2xl text-primary\">${finalAmount?.toFixed(2)}</span>\n                             </div>\n                         </div>\n                         <Button onClick={handleConfirmPayment} className=\"w-full h-12 text-lg\" disabled={isProcessing}>\n                             {isProcessing ? <Loader2 className=\"animate-spin\" /> : <> <Wallet className=\"mr-2\"/> {t('qrpay.confirmPaymentButton')}</> }\n                         </Button>\n                          <Button variant=\"ghost\" onClick={handleScanAgain} className=\"w-full\">\n                             {t('cancel')}\n                           </Button>\n                    </div>\n                )}\n            </div>\n        </div>\n\n        {/* --- Full Screen states --- */}\n        {step === 'success' && (\n            <div className=\"absolute inset-0 bg-primary/90 backdrop-blur-sm flex flex-col items-center justify-center text-center p-6 space-y-6 animate-fade-in\">\n                <div className=\"relative\">\n                    <CheckCircle className=\"h-24 w-24 text-primary-foreground animate-zoom-in\" />\n                </div>\n                <h3 className=\"text-3xl font-bold text-primary-foreground\">{t('qrpay.paymentComplete.title')}</h3>\n                <p className=\"text-lg text-primary-foreground/80\">{t('qrpay.paymentComplete.description', { amount: finalAmount?.toFixed(2), recipient: scannedData?.recipient })}</p>\n                <div className=\"flex gap-4\">\n                    <Button onClick={handleScanAgain} variant=\"secondary\" size=\"lg\">\n                        {t('qrpay.scanAnotherButton')}\n                    </Button>\n                     <Button onClick={() => router.push('/dashboard')} variant=\"outline\" size=\"lg\">\n                       Go Home\n                    </Button>\n                </div>\n            </div>\n        )}\n        \n        {step === 'error' && hasCameraPermission !== false && (\n             <div className=\"absolute inset-0 bg-destructive/90 backdrop-blur-sm flex flex-col items-center justify-center text-center p-6 space-y-4 animate-fade-in\">\n                 <AlertTriangle className=\"h-20 w-20 text-destructive-foreground animate-zoom-in\" />\n                 <h3 className=\"text-3xl font-bold text-destructive-foreground\">{t('error')}</h3>\n                 <p className=\"text-lg text-destructive-foreground/80\">{error}</p>\n                 <Button onClick={handleScanAgain} variant=\"secondary\" size=\"lg\">\n                    Try Again\n                 </Button>\n             </div>\n        )}\n\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}